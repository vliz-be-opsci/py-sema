# j2-subyt-extension-tests
# unite application function - to guarantee content to format completeness
# == unite usage =============================================================

# ---- when it works ---------------------------------------------------------
= reset assignments
? -- basic typical case with value
  {{ 
    unite(
      'ex:text', 
      txt_any | xsd('string', fb='')  
    ) 
  }}
? -- basic case with additional tests beyond n=3
  {{ 
    unite(
      'ex:text', 
      txt_any | xsd('string', fb=''),
      True,
      True
    ) 
  }}
$
  ex:text 'anything'^^xsd:string
# -- even if empty-or-falsy values are actually there as valid content
? -- as with empty string
  {{ 
    unite(
      'ex:empty', 
      txt_none | xsd('auto', fb='')  
    ) 
  }}
$
  ex:empty ''^^xsd:string
? -- as with false bool
  {{ 
    unite(
      'ex:false', 
      bool_f | xsd('auto', fb='')  
    ) 
  }}
$
  ex:false 'false'^^xsd:boolean
? -- as with zero int
  {{ 
    unite(
      'ex:zero', 
      int_0 | xsd('auto', fb='')  
    ) 
  }}
$
  ex:zero '0'^^xsd:integer
#

# ---- how to customise n, sep, fb -------------------------------------------
= 
? -- custom n and seperator 
  {{ 
    unite( 
      'a', 'b', 'c', 'd', 
      n=4, sep='-'
    )
  }}
$
  a-b-c-d
#

= 
? -- custom fb
  {{ 
    unite( 
      'a', 'b', 'c', 'd', 
      fb='*** FALLBACK OUTPUT ***'
    )
  }}
$
  *** FALLBACK OUTPUT ***
#

# ---- when the unite prevents incomplete statements -------------------------
=
? -- cases where no output will result
  {{ unite( 'ex:text', '') }}
? 
  {{ unite( 'ex:text', False) }}
? 
  {{ unite( 'ex:text', none) }}
? -- the basic use casse of missing content 
  {{ 
    unite( 
      'ex:text',
      none | xsd('auto', fb='')
    ) 
   }}
?  -- too much content
  {{ unite( 'a', 'b', 'c', 'd')  }}
$
#
